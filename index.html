<!-- ... POTONGAN AWAL HTML TETAP ... -->

  <script>
    const bgMusic = document.getElementById("bg-music");
    const musicToggle = document.getElementById("music-toggle");
    let isPlaying = true;
    musicToggle.addEventListener("click", () => {
      if (isPlaying) {
        bgMusic.pause();
        musicToggle.textContent = "ðŸ”‡";
      } else {
        bgMusic.play();
        musicToggle.textContent = "ðŸ”Š";
      }
      isPlaying = !isPlaying;
    });

    const targetDate = new Date("2025-07-27T00:00:00+07:00").getTime();
    const countdownElement = document.getElementById("countdown");
    setInterval(() => {
      const now = new Date().getTime();
      const distance = targetDate - now;
      const weeks = Math.floor(distance / (1000 * 60 * 60 * 24 * 7));
      const days = Math.floor((distance % (1000 * 60 * 60 * 24 * 7)) / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      countdownElement.textContent = `${weeks} minggu ${days} hari ${hours} jam`;
    }, 1000);

    // Firebase Config
    const firebaseConfig = {
      apiKey: "ISI_API_KEY_ANDA",
      authDomain: "fauzi-cacha.firebaseapp.com",
      databaseURL: "https://fauzi-cacha-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "fauzi-cacha",
      storageBucket: "fauzi-cacha.appspot.com",
      messagingSenderId: "ISI_MESSAGING_SENDER_ID",
      appId: "ISI_APP_ID"
    };

    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // Simpan RSVP ke Firebase
    document.getElementById("rsvpForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const nama = document.getElementById("rsvpNama").value;
      const status = document.getElementById("rsvpStatus").value;
      const jumlah = document.getElementById("rsvpJumlah").value;

      database.ref("rsvp").push({
        nama: nama,
        status: status,
        jumlah: jumlah,
        timestamp: Date.now()
      });

      alert("Terima kasih atas konfirmasinya!");
      this.reset();
    });

    // Simpan Ucapan ke Firebase
    document.getElementById("wishForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const nama = document.getElementById("wishNama").value;
      const pesan = document.getElementById("wishPesan").value;

      database.ref("ucapan").push({
        nama: nama,
        pesan: pesan,
        timestamp: Date.now()
      });

      alert("Ucapan berhasil dikirim!");
      this.reset();
    });

    // Tampilkan daftar ucapan
    const wishList = document.getElementById("wishList");
    database.ref("ucapan").on("value", function (snapshot) {
      wishList.innerHTML = "";
      const data = snapshot.val();
      const keys = Object.keys(data || {}).reverse(); // Terbaru di atas
      keys.forEach((key) => {
        const entry = data[key];
        const el = document.createElement("div");
        el.className = "entry";
        el.innerHTML = `<strong>${entry.nama}</strong><br>${entry.pesan}`;
        wishList.appendChild(el);
      });
    });
  </script>
</body>
</html>
